<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script> // TODO: move this into seperate JS
        var textData = "";
        $(document).ready(function () {
            var lastDate = new Date();
            $(".track").keydown(function (event) {
                var curDate = new Date();
                //console.log(event);
                console.log(event.which);
                textData += "" + (curDate - lastDate) + ":d" + event.which + "|";
                lastDate = curDate;
            });
            $(".track").keyup(function (event) {
                var curDate = new Date();
                //console.log(event);
                console.log(event.which);
                textData += "" + (curDate - lastDate) + ":u" + event.which + "|";
                lastDate = curDate;
            });

            $("form").submit(function (event) {
                $("#hiddenData").val(textData);
            });
        });
    </script>
</head>
<body>
    <form action="/submitinput">
        <textarea name="plaintext" rows="10" cols="50" class="track"></textarea>
        <input type="submit" id="submit" value="Submit"/>
        <input type="hidden" id="hiddenData" value="" />
    </form>
</body>
</html>